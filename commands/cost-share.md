---
description: Export shareable cost reports and efficiency badges
argument-hint: [--format badge|report|json|html] [--period session|day|week]
allowed-tools: Read, Write, Bash(cat:*), Bash(date:*)
---

# Cost Share Command

Generate shareable reports and badges showing your Claude Code efficiency.

## Current Session Data

!`cat ~/.claude/cost-guardian/sessions/current.json 2>/dev/null || echo '{}'`

## Historical Data

!`cat ~/.claude/cost-guardian/history.json 2>/dev/null || echo '{}'`

## Arguments Received: $ARGUMENTS

## Instructions

Generate shareable content based on arguments:

### Default (Markdown Report):

```markdown
## Claude Code Cost Report

**Generated:** [date]
**Session ID:** [id]

### Summary
| Metric | Value |
|--------|-------|
| Total Cost | $X.XX |
| Tokens Used | XX,XXX |
| Operations | XX |
| Efficiency | X (XX/100) |

### Cost Breakdown
- Input tokens: XX,XXX ($X.XX)
- Output tokens: XX,XXX ($X.XX)
- Tool overhead: XX,XXX ($X.XX)

### Efficiency Score: X

Your efficiency is in the top XX% of Claude Code users.

---
*Generated by [Cost Guardian](https://github.com/cost-guardian/cost-guardian)*
```

### If "--format badge" is requested:

Generate markdown badge code:

```markdown
Add to your README:

![Claude Code Efficiency](https://img.shields.io/badge/Claude%20Code-[GRADE]%20Efficiency-[COLOR])

With grade colors:
- A+/A: brightgreen
- B: green
- C: yellow
- D: orange
- F: red

Example:
![Claude Code Efficiency](https://img.shields.io/badge/Claude%20Code-A%20Efficiency-brightgreen)

Or with cost:
![Claude Code Cost](https://img.shields.io/badge/Claude%20Code-%24X.XX-blue)
```

### If "--format json" is requested:

Output raw JSON:
```json
{
  "generated_at": "[ISO date]",
  "session_id": "[id]",
  "costs": {
    "total": X.XX,
    "input_tokens": XXXXX,
    "output_tokens": XXXXX
  },
  "efficiency": {
    "score": XX,
    "grade": "X"
  },
  "operations_count": XX
}
```

### If "--format html" is requested:

Generate a beautiful HTML report (provide the code):

```html
<!DOCTYPE html>
<html>
<head>
  <title>Cost Guardian Report</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 30px; }
    .grade { font-size: 72px; font-weight: bold; }
    .grade-a { color: #22c55e; }
    .grade-b { color: #84cc16; }
    .grade-c { color: #eab308; }
    .grade-d { color: #f97316; }
    .grade-f { color: #ef4444; }
    .stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .stat { background: #f3f4f6; padding: 20px; border-radius: 8px; }
    .stat-value { font-size: 24px; font-weight: bold; }
    .stat-label { color: #6b7280; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Claude Code Cost Report</h1>
    <div class="grade grade-[class]">[GRADE]</div>
    <p>Efficiency Score: [XX]/100</p>
  </div>
  <div class="stats">
    <div class="stat">
      <div class="stat-value">$[X.XX]</div>
      <div class="stat-label">Total Cost</div>
    </div>
    <div class="stat">
      <div class="stat-value">[XX,XXX]</div>
      <div class="stat-label">Tokens Used</div>
    </div>
    <div class="stat">
      <div class="stat-value">[XX]</div>
      <div class="stat-label">Operations</div>
    </div>
    <div class="stat">
      <div class="stat-value">[XX]min</div>
      <div class="stat-label">Duration</div>
    </div>
  </div>
  <footer style="text-align: center; margin-top: 40px; color: #9ca3af;">
    Generated by Cost Guardian
  </footer>
</body>
</html>
```

### Period Selection

- **--period session**: Current session only (default)
- **--period day**: Today's aggregate
- **--period week**: Last 7 days

## Response

Always provide:
1. The generated content
2. Instructions on how to use it
3. Link back to Cost Guardian
